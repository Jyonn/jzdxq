<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" lang="zh-CN">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta itemprop="name" content="江中东西墙四周年庆"/>
    <meta itemprop="image" content="https://image.6-79.cn/jzdxq/postcard/blue.jpg" />
    <meta name="description" itemprop="description" content="一路相伴，感恩有你。四周年，成员墙大揭秘，更有T恤明信片抽奖福利。" />
    <title>江中东西墙说说规范</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/icon-font.css">
</head>
<body>
<div class="full fit-body bg"></div>
<div class="center-container">
    <div class="main-container">
        <div class="section-container">
            <div class="title">江中东西墙说说规范</div>
            <div class="subtitle" id="subtitle"></div>
        </div>
        <div class="section-container">
        </div>
        <div class="section-container">
            <div class="title sub">内容的选择</div>
            <div class="item">
                <div class="time">不能违反法律和道德</div>
                <div class="time modified" data-toggle="不得出现侮辱性言论">用语文明，不得出现侮辱性言论</div>
                <div class="time">原则上不得传播盈利（商业或其他有偿）的说说，特殊情况见<strong>特别处理办法</strong></div>
                <div class="time">公益类说说应在<strong>大群</strong>报备且通过的情况下传播</div>
                <div class="time">表白类内容的当事人应限定在江山中学在校师生及毕业生之中</div>
                <div class="time modified" data-toggle="原则上不得传播询问联系方式的说说，除非在<strong>大群</strong>报备且通过">原则上不得传播任何可能泄漏个人隐私（QQ、手机、身份证等）的说说，除非与<strong>已毕业学长学姐</strong>报备且通过</div>
                <div class="time">原则上寻物类说说的传播途径限定为转发，即失主需自行发说说</div>
            </div>

            <div class="title sub">隐私的保护</div>
            <div class="item">
                <div class="time">不得出现手机标识</div>
                <div class="time">不得出现个性字体和气泡，可打开设置-通用-简洁模式</div>
                <div class="time">除非客户表示不用匿名，其他情况都需要把头像截掉</div>
            </div>

            <div class="title sub">单一说说的格式</div>
            <div class="item">
                <div class="time">顶格<strong>#江中西墙#</strong>或<strong>#江中东墙#</strong>，后面根据不同的类型接上不同内容</div>
                <div class="time">表白类说说后接<strong> to 被表白对象的信息 </strong>，第二行可空，可摘取表白内容的一句话，或<strong>契合主题</strong>的句子</div>
                <div class="time">转发类说说后接转发内容的概要，若转发内容的文字已有概要，则可空</div>
            </div>

            <div class="title sub">合并说说的格式</div>
            <div class="item">
                <div class="time">原则上有超过9条内容需要发布时才允许发布合并说说</div>
                <div class="time">原则上合并说说一天内不能超过两条，特殊情况见<strong>特别处理办法</strong></div>
                <div class="time">内容类型（如表白、寻物）必须保证一致，<strong>且图片数量不得超过9张</strong></div>
                <div class="time">顶格<strong>#江中西墙#</strong>或<strong>#江中东墙#</strong>，后面根据不同的类型接上不同内容</div>
            </div>

            <div class="title sub">发送的频率</div>
            <div class="item">
                <div class="time">原则上半小时内只允许发布一条说说</div>
                <div class="time">可根据实际情况调整发送频率，如在黄金时间段（晚7点、晚8点、晚9点）<strong>选一小时</strong>以每20分钟甚至15分钟的频率发布</div>
            </div>
        </div>
        <div class="section-container">
            <div class="title">特别处理办法</div>
        </div>
        <div class="section-container">
            <div class="title sub">以盈利为目的的说说</div>
            <div class="item">
                <div class="time modified" data-toggle="允许运动会期间传播跳蚤市场的说说，<strong>说说的传播途径限定为转发，即卖家需自行发说说</strong>">允许传播学校支持的盈利内容（如运动会期间的跳蚤市场），说说的传播途径限定为<strong>转发</strong>，即卖家需自行发说说</div>
                <div class="time">允许高考结束期间传播毕业生出售书籍等学习资料的说说，说说的传播途径限定为<strong>转发</strong>，即卖家需自行发说说</div>
                <div class="time">允许传播其他在<strong>大群</strong>报备且通过的有偿活动</div>
            </div>

            <div class="title sub">合并说说发布的时机</div>
            <div class="item">
                <div class="time">当东东西西主观上因工作繁重而感到疲惫时允许不受限制地优雅地发布合并说说</div>
                <div class="time">寻物类说说合并发布的条件可适当放宽，当存在多条非寻物类（如表白、活动等）说说和多条寻物类说说时，优先合并发布寻物类说说</div>
            </div>
        </div>
    </div>
    <div class="footer">
<!--        <span class="line">———</span>-->
        <img class="logo" id="source_we" src="img/we.png" alt="we" style="display: none">
        <img class="logo" id="target_we" alt="we">
        <img class="logo" id="source_jzdxq" src="img/jzdxq.png" alt="jzdxq" style="display: none">
        <img class="logo" id="target_jzdxq" alt="jzdxq">
        <canvas id="cv" style="display: none"></canvas>
<!--        <span class="line">———</span>-->
    </div>
</div>
<script>
    let modified_items = Array.from(document.getElementsByClassName('modified'));

    modified_items.forEach(item => {
        item.addEventListener('click', (event) => {
            let target = event.target;
            while (!target.classList.contains('time')) {
                target = target.parentElement;
            }
            if (target.classList.contains('modified')) {
                target.classList.remove('modified');
                target.classList.add('origin');
            } else {
                target.classList.remove('origin');
                target.classList.add('modified');
            }
            let text = target.innerHTML;
            target.innerHTML = target.getAttribute('data-toggle');
            target.setAttribute('data-toggle', text);
        });
    })

    function modifyPictureColor(source, target, canvas, color) {
        // const sourceImageId = 'sourceImage';
        // const modifiedImageId = 'modifiedImage';
        // const canvasId = 'canvas';
        // const newColor = { r: 255, g: 255, b: 0 }; // Yellow

        const newColor = {
            r: parseInt(color.substring(1, 3), 16),
            g: parseInt(color.substring(3, 5), 16),
            b: parseInt(color.substring(5, 7), 16)
        };

        // Get elements
        const img = document.getElementById(source);
        const targetImg = document.getElementById(target);
        const cv = document.getElementById(canvas);
        const ctx = cv.getContext('2d');

        // Draw the original image on the canvas
        cv.width = img.width;
        cv.height = img.height;
        ctx.drawImage(img, 0, 0);

        // Get all pixel data from the canvas
        const imageData = ctx.getImageData(0, 0, cv.width, cv.height);
        const data = imageData.data;

        // Loop through all pixels to modify colors
        for (let i = 0; i < data.length; i += 4) {
            const alpha = data[i + 3];

            // If the pixel is not transparent
            if (alpha !== 0) {
                // Change the color to the specified color
                data[i] = newColor.r;  // Red
                data[i + 1] = newColor.g;  // Green
                data[i + 2] = newColor.b;  // Blue
            }
        }

        // Put the modified pixels back into the canvas
        ctx.putImageData(imageData, 0, 0);

        // Convert canvas to Base64 and set it as the source of the visible image
        targetImg.src = cv.toDataURL();
    }

    window.addEventListener('load', function() {
        // Variables for IDs and color
        const traditionalChineseColors = [
            '#2194f9', // JZDXQ
            '#B64533', // Vermilion
            '#855B00', // Chinese Gold
            '#2E006C', // Imperial Blue
            '#6B473C', // Tea Brown
            '#A35E7D', // Chinese Purple
            '#581A00', // Mahogany
            '#758A99', // Chinese Bronze
            '#2B5D34', // Jade Green
            '#161823', // Chinese Ink
            '#813405', // Amber,
        ];

        let index = -1;

        setInterval(() => {
            index = (index + 1) % traditionalChineseColors.length;
            modifyPictureColor('source_we', 'target_we', 'cv', traditionalChineseColors[index]);
            modifyPictureColor('source_jzdxq', 'target_jzdxq', 'cv', traditionalChineseColors[index]);
        }, 1000);

        let subtitle = document.getElementById('subtitle');
        subtitle.innerText = '2014-' + new Date().getFullYear();
    });
</script>
</script>
</body>
</html>
